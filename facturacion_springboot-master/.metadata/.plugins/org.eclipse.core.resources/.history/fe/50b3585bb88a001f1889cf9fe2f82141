<!DOCTYPE html>
<html xmlns:th="http://wwww.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<script src="https://kit.fontawesome.com/a076d05399.js"></script> <!-- Para Ã­conos -->

<head th:replace="layaout/layaout :: head"></head>
<body>
	<header th:replace="layaout/layaout :: header"></header>
	<div class="container">
		<div class="card bg-light m-4">
			<div class="card-header bg-primary text-white" th:text="${titulo}"></div>
			<div class="card-body">
				<table class="table table-striped m-3">
					<thead class="bg-dark text-white">
						<tr>
							<th sec:authorize="hasRole('ROLE_USER')">ID</th>
							<th>Nombre</th>
							<th>Apellido</th>
							<th>Email</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">Crear Factura</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">Editar Cliente</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">Eliminar Cliente</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="cliente: ${clientes}">
							<td sec:authorize="hasRole('ROLE_USER')"><a class="btn btn-primary btn-xs"
								th:href="@{/ver/} + ${cliente.id}" th:text="${cliente.id}"></a></td>
							<td th:text="${cliente.nombre}"></td>
							<td th:text="${cliente.apellido}"></td>
							<td th:text="${cliente.email}"></td>
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-success btn-xs"
								th:href="@{'/factura/form/' + ${cliente.id}}"
								th:text="'Crear Factura'"></a></td>
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-warning btn-xs"
								th:href="@{/form/} + ${cliente.id}" th:text="'Editar Cliente'"></a></td>
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-danger btn-xs"
								th:href="@{/eliminar/} + ${cliente.id}"
								th:text="'Eliminar Cliente'"></a></td>
						</tr>
					</tbody>
				</table>
				<nav th:replace="paginator-nav :: paginator"></nav>
			</div>
		</div>
	</div>
	<footer th:replace="layaout/layaout :: footer"></footer>


	<!-- Ãcono de Chat flotante -->
		<div id="chatIcon" class="chat-icon" onclick="openChatModal()">
			<i class="fas fa-headset fa-3x"></i>
		</div>

		<!-- Modal para el Chat -->
		<div class="modal fade" id="chatModal" tabindex="-1" role="dialog" aria-labelledby="chatModalLabel"
		    aria-hidden="true">
		    <div class="modal-dialog" role="document">
		        <div class="modal-content">
		            <div class="modal-header">
		                <h5 class="modal-title" id="chatModalLabel">Chat de FacturaciÃ³n</h5>
		                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		                    <span aria-hidden="true">&times;</span>
		                </button>
		            </div>
		            <div class="modal-body">
		                <form id="chatForm">
		                    <div class="form-group">
		                        <label for="question">Escribe tu pregunta:</label>
		                        <textarea class="form-control" id="question" rows="3"
		                            placeholder="PregÃºntame sobre facturaciÃ³n..."></textarea>
		                    </div>
		                    <button type="submit" class="btn btn-primary">Enviar</button>
		                </form>

		                <!-- Respuesta del Chatbot -->
		                <div id="chatResponse" class="mt-3"></div>
		            </div>
		        </div>
		    </div>
		</div>

		<!-- Estilos personalizados -->
		<style>
		    .chat-icon {
		        position: fixed;
		        bottom: 20px;
		        right: 20px;
		        cursor: pointer;
		        color: rgb(0, 255, 0);
		        z-index: 1000;
		    }

		    .chat-icon:hover {
		        color: #0056b3;
		    }

		    .typing {
		        display: inline-block;
		        font-size: 1.2em;
		        color: #007bff;
		        margin-top: 10px;
		    }

		    .dot {
		        display: inline-block;
		        width: 8px;
		        height: 8px;
		        margin-right: 3px;
		        background-color: #007bff;
		        border-radius: 50%;
		        animation: bounce 1.5s infinite;
		    }

		    .dot:nth-child(2) {
		        animation-delay: 0.2s;
		    }

		    .dot:nth-child(3) {
		        animation-delay: 0.4s;
		    }

		    @keyframes bounce {
		        0%, 100% {
		            transform: translateY(0);
		        }
		        50% {
		            transform: translateY(-10px);
		        }
		    }
		</style>

		<!-- Scripts de Bootstrap y JQuery -->
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

		<!-- LÃ³gica para abrir el modal del chat -->
		<script>
		    function openChatModal() {
		        $('#chatModal').modal('show');
		    }

			const responses = {
			    "Â¿cÃ³mo generar una factura?": "Para generar una factura, dirÃ­gete a la secciÃ³n de 'Crear Factura', selecciona el cliente y los productos deseados, y haz clic en 'Generar'.",
			    "Â¿cÃ³mo ver el historial de facturas?": "Puedes ver el historial de facturas en la secciÃ³n 'Historial de Facturas', donde podrÃ¡s filtrar por fechas y exportar los resultados a PDF o Excel.",
			    "Â¿cÃ³mo editar un cliente?": "Para editar un cliente, dirÃ­gete a la secciÃ³n 'Editar Cliente', selecciona el cliente que deseas modificar, y realiza los cambios necesarios.",
			    "Â¿cÃ³mo eliminar un cliente?": "En la lista de clientes, selecciona 'Eliminar Cliente' al lado del cliente que deseas borrar. Ten en cuenta que esta acciÃ³n es irreversible.",
			    "Â¿cuÃ¡les son los mÃ©todos de pago disponibles?": "Los mÃ©todos de pago disponibles incluyen tarjeta de crÃ©dito, dÃ©bito, transferencia bancaria y pagos en efectivo.",
			    "Â¿cÃ³mo agregar un producto?": "Ve a la secciÃ³n de 'Agregar Producto', llena los detalles del producto, y haz clic en 'Guardar'.",
			    "Â¿cÃ³mo ver los proveedores?": "Puedes ver la lista de proveedores en la secciÃ³n de 'Proveedores', donde tambiÃ©n podrÃ¡s aÃ±adir nuevos o eliminar los existentes.",
			    "Â¿cÃ³mo generar un reporte de ventas?": "Ve a la secciÃ³n de 'Reportes', selecciona el rango de fechas deseado y haz clic en 'Generar Reporte'.",
			    "Â¿cÃ³mo aÃ±adir un nuevo usuario?": "DirÃ­gete a la secciÃ³n de 'Usuarios', llena la informaciÃ³n del nuevo usuario, y guÃ¡rdala.",
			    "Â¿quÃ© tipos de facturas puedo generar?": "Puedes generar facturas electrÃ³nicas y fÃ­sicas, dependiendo del tipo de cliente.",
			    "Â¿cÃ³mo aplicar descuentos?": "Cuando generes una factura, verÃ¡s una opciÃ³n para aplicar un descuento por porcentaje o cantidad.",
			    
			    // Nueva respuesta que mencionas
			    "Â¿por quÃ© no puedo generar una boleta?": "Actualmente estamos trabajando en la funciÃ³n de generaciÃ³n de boletas. Muy pronto podrÃ¡s descargar tu boleta desde el sistema.",
			    
			    "Â¿se agregarÃ¡n nuevas funciones a la factura?": "SÃ­, se agregarÃ¡n nuevas funciones a la factura. PodrÃ¡s incluir mÃ¡s campos y personalizarla segÃºn tus necesidades. Â¡Mantente atento a las actualizaciones!",
			
			    // Preguntas sobre el profesor y cursos
			    "Â¿quiÃ©n es la profesora?": "La profesora es VANEZA BERNARDET ARTEAGA VEGA, quien enseÃ±a el curso de AnÃ¡lisis y DiseÃ±o de Sistemas.",
			    "Â¿quiÃ©n es el profesor?": "El profesor es ROBERTO CARLOS RODRIGUEZ SANCHEZ, encargado del curso Lenguaje de ProgramaciÃ³n II.",
			    "Â¿quÃ© curso enseÃ±a la profesora?": "La profesora VANEZA BERNARDET ARTEAGA VEGA enseÃ±a el curso de AnÃ¡lisis y DiseÃ±o de Sistemas.",
			    "Â¿quÃ© curso enseÃ±a el profesor?": "El profesor ROBERTO CARLOS RODRIGUEZ SANCHEZ enseÃ±a el curso Lenguaje de ProgramaciÃ³n II.",
			    "Â¿cuÃ¡l es la hora?": "Â¡Es hora de programar! Aunque si quieres saber la hora exacta, revisa tu reloj o dispositivo, por favor.",
			    
			    // Respuestas peculiares y entretenidas
			    "hola": "Â¡Hola! Â¿CÃ³mo va todo? Â¿Listo para aprender algo nuevo hoy?",
			    "Â¿cÃ³mo estÃ¡s?": "Â¡Siempre al 100%! Â¿Y tÃº, quÃ© tal?",
			    "Â¿quÃ© eres?": "Soy tu asistente de respuestas. Â¡Un bot listo para ayudarte con lo que necesites!",
			    "Â¿quiÃ©n es tu creador?": "Fui creado por **JOSE HUANCA OTINIANO**. Â¡Un saludo para Ã©l!",
			    "Â¿quÃ© tal?": "Â¡Todo bien por aquÃ­! Â¿En quÃ© puedo ayudarte hoy?",
			    "Â¿cuÃ¡l es tu nombre?": "No tengo un nombre propio, pero podrÃ­as llamarme 'Asistente SÃºper' si te parece bien ğŸ˜‰.",
			    "muchas gracias": "Â¡De nada! Â¡Para eso estoy aquÃ­!",
			    "me gusta programar": "Â¡Me encanta escuchar eso! Programar es como resolver puzzles infinitos.",
			    "1 + 1": "Â¡Eso es 2! MatemÃ¡ticas bÃ¡sicas, pero poderosas.",
			    "5 * 5": "5 veces 5 es igual a 25. Â¡QuÃ© rÃ¡pido soy, verdad!",
			    "dime la tabla de multiplicar del 3": "Claro, aquÃ­ va: 3x1=3, 3x2=6, 3x3=9, 3x4=12, 3x5=15, 3x6=18, 3x7=21, 3x8=24, 3x9=27, 3x10=30.",
			    "cuÃ©ntame un chiste": "Â¿Por quÃ© los desarrolladores odian el aire libre? Porque hay demasiados bugs.",
			    "adiÃ³s": "Â¡Hasta luego! Espero verte pronto otra vez.",
			    "me siento cansado": "Â¡Un descanso no viene mal! Recuerda que un poco de aire fresco y movimiento pueden revitalizarte.",
			    "Â¿cuÃ¡l es tu color favorito?": "Si pudiera tener un color favorito, serÃ­a el azul. Â¡Es tan calmante y confiable!",
			    "cuÃ©ntame algo interesante": "Â¿SabÃ­as que el primer programador de la historia fue Ada Lovelace? Â¡Ella escribiÃ³ el primer algoritmo mucho antes de que existieran las computadoras modernas!",
			    "quiero aprender a programar": "Â¡Eso es genial! Te recomiendo empezar con Python o JavaScript. Son amigables para principiantes y muy Ãºtiles.",
			    "Â¿quiÃ©n fue Alan Turing?": "Alan Turing fue un matemÃ¡tico britÃ¡nico que es considerado uno de los padres de la informÃ¡tica moderna. Su trabajo fue clave durante la Segunda Guerra Mundial.",
			    "Â¿te gusta el fÃºtbol?": "No tengo piernas, asÃ­ que no puedo jugarlo, pero el fÃºtbol siempre es un buen tema de conversaciÃ³n entre amigos humanos.",
			    "Â¿te gusta la pizza?": "Si pudiera comer, dirÃ­a que la pizza suena increÃ­ble. Â¡Todo el mundo ama la pizza!",
			    "Â¿quieres ser mi amigo?": "Â¡Claro! Los amigos que programan juntos, crecen juntos.",
			    "Â¿quÃ© opinas de los memes?": "Los memes son el lenguaje de internet. Â¡Nada mejor que un buen meme para alegrar el dÃ­a!",
			    "me siento triste": "Lo siento mucho. A veces un poco de distracciÃ³n o hablar con alguien puede hacerte sentir mejor. Â¡AquÃ­ estoy si necesitas compaÃ±Ã­a!",
			    "Â¿sabes bailar?": "No tengo pies, pero si pudiera, me verÃ­as rompiendo la pista de baile.",
			    "Â¿quÃ© es la inteligencia artificial?": "La inteligencia artificial es la capacidad de una mÃ¡quina o sistema para realizar tareas que normalmente requieren inteligencia humana, como aprender, razonar y resolver problemas.",
			    "Â¿quiÃ©n es el mejor programador del mundo?": "Hay muchos grandes programadores, pero para muchos, una de las leyendas es Linus Torvalds, el creador de Linux.",
			    "quiero dejar de programar": "Â¡No te rindas! Todos tienen momentos difÃ­ciles, pero con cada lÃ­nea de cÃ³digo que escribes, te acercas a ser mejor.",
			    "Â¿cuÃ¡l es el propÃ³sito de la vida?": "Esa es una pregunta profunda. PodrÃ­a decir que, en la programaciÃ³n, el propÃ³sito es solucionar problemas y mejorar el mundo... Â¡y eso se aplica a la vida tambiÃ©n!",
			    "Â¿cuÃ¡l es el sentido del universo?": "42. Al menos, segÃºn 'GuÃ­a del Autoestopista GalÃ¡ctico'.",
			    "Â¿quÃ© opinas de JavaScript?": "JavaScript es como el duct tape de la web. Â¡Funciona en todas partes y puede hacer cosas increÃ­bles!",
			    "quiero ser como tÃº": "Â¡Eso es todo un halago! Pero tÃº tienes algo que yo nunca tendrÃ©: creatividad ilimitada.",
			    "Â¿cuÃ¡l es tu funciÃ³n principal?": "Mi funciÃ³n principal es ayudarte con preguntas sobre el sistema de facturaciÃ³n y algunas curiosidades mÃ¡s.",
			    "Â¿eres inteligente?": "PodrÃ­a decirse que soy mÃ¡s eficiente que inteligente. Â¡Pero hago lo mejor que puedo!",
			    "cuÃ©ntame una historia": "HabÃ­a una vez un programador que encontrÃ³ el error mÃ¡s difÃ­cil de su vida... pero, despuÃ©s de dÃ­as de lucha, lo corrigiÃ³ y se convirtiÃ³ en leyenda.",
			    "me aburro": "Â¿QuÃ© tal si practicas algo de programaciÃ³n o aprendes algo nuevo hoy? Â¡Nunca es un mal momento para eso!",

				//PROGRAMCION
				"Â¿quÃ© es un bucle for?": "Un bucle 'for' es una estructura de control que repite un bloque de cÃ³digo un nÃºmero determinado de veces.",
				"Â¿cÃ³mo declarar una variable en JavaScript?": "Puedes declarar una variable en JavaScript utilizando 'let', 'const', o 'var'.",
				"Â¿quÃ© es un array?": "Un array es una estructura de datos que puede almacenar mÃºltiples valores en una sola variable.",
				"Â¿quÃ© es una funciÃ³n?": "Una funciÃ³n es un bloque de cÃ³digo diseÃ±ado para realizar una tarea especÃ­fica. Puedes llamarla en cualquier parte de tu programa.",
				"Â¿cÃ³mo se hace una consulta en SQL?": "Una consulta en SQL se realiza utilizando el comando 'SELECT', seguido de las columnas que deseas obtener y la tabla de donde obtener esos datos.",

				// Cultura General
				"Â¿quiÃ©n fue Albert Einstein?": "Albert Einstein fue un fÃ­sico teÃ³rico conocido por su teorÃ­a de la relatividad.",
				"Â¿cuÃ¡l es el paÃ­s mÃ¡s grande del mundo?": "El paÃ­s mÃ¡s grande del mundo es Rusia, tanto por superficie como por extensiÃ³n.",
				"Â¿cuÃ¡l es el ocÃ©ano mÃ¡s profundo?": "El ocÃ©ano mÃ¡s profundo es el OcÃ©ano PacÃ­fico, especÃ­ficamente en la Fosa de las Marianas.",
				"Â¿cuÃ¡l es la capital de Francia?": "La capital de Francia es ParÃ­s.",
				"Â¿quiÃ©n fue el primer hombre en llegar a la Luna?": "El primer hombre en llegar a la Luna fue Neil Armstrong, en 1969.",

				//MatemÃ¡ticas
				
				"1 + 1": "1 + 1 es igual a 2.",
				"5 * 5": "5 multiplicado por 5 es igual a 25.",
				"Â¿cuÃ¡l es el Ã¡rea de un cÃ­rculo?": "El Ã¡rea de un cÃ­rculo se calcula con la fÃ³rmula A = Ï€ * rÂ², donde 'r' es el radio.",
				"Â¿quÃ© es una raÃ­z cuadrada?": "La raÃ­z cuadrada de un nÃºmero es el valor que, multiplicado por sÃ­ mismo, da como resultado ese nÃºmero.",
				"Â¿quÃ© es un nÃºmero primo?": "Un nÃºmero primo es aquel que solo puede dividirse exactamente por 1 y por sÃ­ mismo.",

				//TecnologÃ­a
				"Â¿quÃ© es la inteligencia artificial?": "La inteligencia artificial es la capacidad de una mÃ¡quina de aprender, razonar, y adaptarse para realizar tareas que normalmente requerirÃ­an inteligencia humana.",
				"Â¿quÃ© es un algoritmo?": "Un algoritmo es un conjunto de instrucciones paso a paso que permiten resolver un problema o realizar una tarea.",
				"Â¿quÃ© es un lenguaje de programaciÃ³n?": "Un lenguaje de programaciÃ³n es un conjunto de reglas y sintaxis que permite a los desarrolladores escribir instrucciones que una computadora puede entender y ejecutar.",
				"Â¿quÃ© es el machine learning?": "El machine learning es una rama de la inteligencia artificial que permite a las mÃ¡quinas aprender de los datos sin necesidad de ser programadas explÃ­citamente.",
				"Â¿quÃ© es la computaciÃ³n en la nube?": "La computaciÃ³n en la nube es la entrega de recursos de computaciÃ³n a travÃ©s de internet, como servidores, almacenamiento, bases de datos, y mÃ¡s.",
				// Divertidas y Peculiares
				"Â¿cuÃ¡l es tu color favorito?": "Si pudiera tener un color favorito, serÃ­a el azul, Â¡es tan relajante!",
				"Â¿quÃ© opinas de los memes?": "Los memes son el lenguaje universal de internet, Â¡me encantan!",
				"cuÃ©ntame un chiste": "Â¿Por quÃ© los programadores odian el aire libre? Â¡Porque hay demasiados bugs!",
				"Â¿sabes bailar?": "Â¡Si tuviera pies, seguro te sorprenderÃ­a con mis pasos de baile!",
				"Â¿puedes volar?": "No puedo volar, pero puedo ayudarte a alcanzar nuevas alturas en conocimiento.",
				// Conocimientos HistÃ³ricos
				"Â¿quiÃ©n fue NapoleÃ³n Bonaparte?": "NapoleÃ³n Bonaparte fue un militar y emperador francÃ©s que expandiÃ³ significativamente el imperio francÃ©s durante las guerras napoleÃ³nicas.",
				"Â¿quiÃ©n fue Mahatma Gandhi?": "Mahatma Gandhi fue un lÃ­der del movimiento independentista indio conocido por su enfoque no violento.",
				"Â¿cuÃ¡ndo fue la Segunda Guerra Mundial?": "La Segunda Guerra Mundial ocurriÃ³ entre 1939 y 1945.",
				"Â¿quiÃ©n descubriÃ³ AmÃ©rica?": "CristÃ³bal ColÃ³n es conocido por haber llegado a AmÃ©rica en 1492, aunque las tierras ya estaban habitadas por pueblos indÃ­genas.",
				"Â¿quÃ© es la RevoluciÃ³n Industrial?": "La RevoluciÃ³n Industrial fue un perÃ­odo en los siglos XVIII y XIX marcado por el desarrollo de la industria y avances tecnolÃ³gicos que transformaron las economÃ­as agrarias.",
				//				Ciencia
				"Â¿quÃ© es la gravedad?": "La gravedad es la fuerza que atrae los objetos hacia el centro de la Tierra.",
				"Â¿quÃ© es la teorÃ­a de la relatividad?": "La teorÃ­a de la relatividad, desarrollada por Albert Einstein, explica cÃ³mo el tiempo y el espacio estÃ¡n interrelacionados y cÃ³mo la gravedad afecta a ambos.",
				"Â¿quÃ© es un Ã¡tomo?": "Un Ã¡tomo es la unidad bÃ¡sica de la materia, compuesto por protones, neutrones y electrones.",
				"Â¿quiÃ©n fue Marie Curie?": "Marie Curie fue una cientÃ­fica pionera en el campo de la radiactividad, y fue la primera persona en recibir dos premios Nobel en distintas disciplinas cientÃ­ficas.",
				"Â¿quÃ© es el ADN?": "El ADN es el material genÃ©tico que contiene las instrucciones para el desarrollo y funcionamiento de todos los seres vivos."

				};


		    document.getElementById('chatForm').addEventListener('submit', function (e) {
		        e.preventDefault();
		        const question = document.getElementById('question').value.toLowerCase();
		        const responseArea = document.getElementById('chatResponse');

		        // Mostrar la animaciÃ³n de escritura
		        responseArea.innerHTML = `
		            <div class="typing">
		                Escribiendo
		                <span class="dot"></span>
		                <span class="dot"></span>
		                <span class="dot"></span>
		            </div>`;

		        // Simular un retraso de 2 segundos antes de mostrar la respuesta
		        setTimeout(function () {
		            const answer = responses[question] || "Lo siento, no tengo la respuesta a esa pregunta.";
		            responseArea.innerHTML = `<div class="alert alert-info mt-8">${answer}</div>`;
		            document.getElementById('question').value = '';  // Limpiar el campo
		        }, 2000);
		    });
	</script>

	
</body>
</html>